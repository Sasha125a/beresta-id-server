<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è - Beresta ID</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <header class="header">
        <nav class="nav container">
            <a href="/" class="logo">Beresta ID</a>
            <ul class="nav-links">
                <li><a href="/">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="/demo">–î–µ–º–æ</a></li>
                <li><a href="/docs" style="color: var(--primary);">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a></li>
                <li><a href="/admin">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a></li>
            </ul>
        </nav>
    </header>

    <main class="container" style="padding: 2rem 0;">
        <h1 style="text-align: center; margin-bottom: 2rem;">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Beresta ID</h1>
        
        <div class="card">
            <h2>üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h2>
            
            <h3>1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏</h3>
            <div class="code-block">
&lt;script src="https://your-service.onrender.com/client.js"&gt;&lt;/script&gt;
            </div>

            <h3>2. –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞</h3>
            <div class="code-block">
// –ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –¥–æ—Å—Ç—É–ø–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç berestaID
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
if (window.brestID.isAuthenticated()) {
    const user = window.brestID.getUser();
    console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', user);
} else {
    console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω');
}
            </div>
        </div>

        <div class="card">
            <h2>üìö API Reference</h2>

            <h3>–ú–µ—Ç–æ–¥—ã –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏</h3>

            <div style="margin: 1.5rem 0;">
                <h4>register(email, password, name?)</h4>
                <p>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</p>
                <div class="code-block">
const result = await brestID.register('user@example.com', 'password123', 'User Name');
// result: { user: { id, email, name }, message: '...' }
                </div>
            </div>

            <div style="margin: 1.5rem 0;">
                <h4>login(email, password)</h4>
                <p>–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</p>
                <div class="code-block">
const result = await brestID.login('user@example.com', 'password123');
// result: { token, user: { id, email, name }, expiresAt }
                </div>
            </div>

            <div style="margin: 1.5rem 0;">
                <h4>logout()</h4>
                <p>–í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã</p>
                <div class="code-block">
await berestaID.logout();
                </div>
            </div>

            <div style="margin: 1.5rem 0;">
                <h4>verifyToken()</h4>
                <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–∞</p>
                <div class="code-block">
const verified = await berestaID.verifyToken();
// verified: { valid: true, user: { ... } } –∏–ª–∏ null
                </div>
            </div>

            <div style="margin: 1.5rem 0;">
                <h4>getProfile()</h4>
                <p>–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</p>
                <div class="code-block">
const profile = await berestaID.getProfile();
// profile: { user: { id, email, name } }
                </div>
            </div>

            <div style="margin: 1.5rem 0;">
                <h4>updateProfile(name)</h4>
                <p>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</p>
                <div class="code-block">
const result = await berestaID.updateProfile('New Name');
// result: { user: { id, email, name }, message: '...' }
                </div>
            </div>

            <div style="margin: 1.5rem 0;">
                <h4>isAuthenticated()</h4>
                <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏</p>
                <div class="code-block">
const isAuth = berestaID.isAuthenticated();
// isAuth: true –∏–ª–∏ false
                </div>
            </div>

            <div style="margin: 1.5rem 0;">
                <h4>getUser()</h4>
                <p>–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</p>
                <div class="code-block">
const user = berestaID.getUser();
// user: { id, email, name } –∏–ª–∏ null
                </div>
            </div>

            <div style="margin: 1.5rem 0;">
                <h4>getToken()</h4>
                <p>–ü–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞</p>
                <div class="code-block">
const token = berestaID.getToken();
// token: —Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ null
                </div>
            </div>

            <div style="margin: 1.5rem 0;">
                <h4>init()</h4>
                <p>–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ</p>
                <div class="code-block">
const user = await berestaID.init();
// user: –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ null
                </div>
            </div>
        </div>

        <div class="card">
            <h2>üîß –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API</h2>

            <h3>–ë–∞–∑–æ–≤—ã–π URL</h3>
            <div class="code-block">
const BASE_URL = 'https://your-service.onrender.com';
            </div>

            <h3>–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã</h3>

            <table style="width: 100%; margin: 1rem 0;">
                <thead>
                    <tr>
                        <th>–ú–µ—Ç–æ–¥</th>
                        <th>URL</th>
                        <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                        <th>–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>POST</code></td>
                        <td><code>/auth/register</code></td>
                        <td>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</td>
                        <td><code>{ email, password, name? }</code></td>
                    </tr>
                    <tr>
                        <td><code>POST</code></td>
                        <td><code>/auth/login</code></td>
                        <td>–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</td>
                        <td><code>{ email, password }</code></td>
                    </tr>
                    <tr>
                        <td><code>POST</code></td>
                        <td><code>/auth/logout</code></td>
                        <td>–í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã</td>
                        <td><code>Authorization: Bearer token</code></td>
                    </tr>
                    <tr>
                        <td><code>GET</code></td>
                        <td><code>/auth/verify</code></td>
                        <td>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞</td>
                        <td><code>Authorization: Bearer token</code></td>
                    </tr>
                    <tr>
                        <td><code>GET</code></td>
                        <td><code>/api/profile</code></td>
                        <td>–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è</td>
                        <td><code>Authorization: Bearer token</code></td>
                    </tr>
                    <tr>
                        <td><code>PUT</code></td>
                        <td><code>/api/profile</code></td>
                        <td>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è</td>
                        <td><code>{ name }</code></td>
                    </tr>
                    <tr>
                        <td><code>GET</code></td>
                        <td><code>/admin/stats</code></td>
                        <td>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∞–¥–º–∏–Ω)</td>
                        <td><code>Authorization: Bearer token</code></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="card">
            <h2>üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h2>

            <h3>JWT –¢–æ–∫–µ–Ω—ã</h3>
            <ul style="margin: 1rem 0; padding-left: 2rem;">
                <li>–¢–æ–∫–µ–Ω—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã 7 –¥–Ω–µ–π</li>
                <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ</li>
                <li>–•—Ä–∞–Ω—è—Ç—Å—è –≤ localStorage</li>
                <li>–ü–æ–¥–ø–∏—Å—å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞</li>
            </ul>

            <h3>–ó–∞—â–∏—Ç–∞ –ø–∞—Ä–æ–ª–µ–π</h3>
            <ul style="margin: 1rem 0; padding-left: 2rem;">
                <li>–ü–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é bcrypt</li>
                <li>–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø–∞—Ä–æ–ª—è: 6 —Å–∏–º–≤–æ–ª–æ–≤</li>
                <li>–ó–∞—â–∏—Ç–∞ –æ—Ç brute-force –∞—Ç–∞–∫</li>
            </ul>

            <h3>CORS</h3>
            <ul style="margin: 1rem 0; padding-left: 2rem;">
                <li>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ ALLOWED_ORIGINS</li>
                <li>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ credentials</li>
                <li>–ó–∞—â–∏—Ç–∞ –æ—Ç CSRF –∞—Ç–∞–∫</li>
            </ul>
        </div>

        <div class="card">
            <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è</h2>

            <h3>–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è</h3>
            <table style="width: 100%; margin: 1rem 0;">
                <thead>
                    <tr>
                        <th>–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è</th>
                        <th>–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è</th>
                        <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                        <th>–ü—Ä–∏–º–µ—Ä</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>JWT_SECRET</code></td>
                        <td>‚úÖ –î–∞</td>
                        <td>–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT</td>
                        <td><code>super-secret-key</code></td>
                    </tr>
                    <tr>
                        <td><code>DATABASE_URL</code></td>
                        <td>‚úÖ –î–∞</td>
                        <td>URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL</td>
                        <td><code>postgresql://user:pass@host/db</code></td>
                    </tr>
                    <tr>
                        <td><code>ALLOWED_ORIGINS</code></td>
                        <td>‚ùå –ù–µ—Ç</td>
                        <td>–†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</td>
                        <td><code>https://app1.com,https://app2.com</code></td>
                    </tr>
                    <tr>
                        <td><code>NODE_ENV</code></td>
                        <td>‚ùå –ù–µ—Ç</td>
                        <td>–û–∫—Ä—É–∂–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</td>
                        <td><code>production</code></td>
                    </tr>
                </tbody>
            </table>

            <h3>–ü—Ä–∏–º–µ—Ä .env —Ñ–∞–π–ª–∞</h3>
            <div class="code-block">
JWT_SECRET=your-super-secret-jwt-key
DATABASE_URL=postgresql://user:pass@localhost:5432/brestid
ALLOWED_ORIGINS=http://localhost:3000,https://yourapp.com
NODE_ENV=development
            </div>
        </div>

        <div class="card">
            <h2>üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</h2>

            <h3>–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤</h3>
            <table style="width: 100%; margin: 1rem 0;">
                <thead>
                    <tr>
                        <th>–ö–æ–¥</th>
                        <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>200</code></td>
                        <td>–£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å</td>
                    </tr>
                    <tr>
                        <td><code>201</code></td>
                        <td>–†–µ—Å—É—Ä—Å —Å–æ–∑–¥–∞–Ω</td>
                    </tr>
                    <tr>
                        <td><code>400</code></td>
                        <td>–ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å</td>
                    </tr>
                    <tr>
                        <td><code>401</code></td>
                        <td>–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω</td>
                    </tr>
                    <tr>
                        <td><code>403</code></td>
                        <td>–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω</td>
                    </tr>
                    <tr>
                        <td><code>404</code></td>
                        <td>–†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω</td>
                    </tr>
                    <tr>
                        <td><code>429</code></td>
                        <td>–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤</td>
                    </tr>
                    <tr>
                        <td><code>500</code></td>
                        <td>–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞</td>
                    </tr>
                </tbody>
            </table>

            <h3>–§–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫</h3>
            <div class="code-block">
{
    "error": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏",
    "success": false
}
            </div>

            <h3>–ü—Ä–∏–º–µ—Ä—ã –æ—à–∏–±–æ–∫</h3>
            <div class="code-block">
// –ù–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
{
    "error": "–ù–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ",
    "success": false
}

// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
{
    "error": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç",
    "success": false
}

// –ù–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω
{
    "error": "–ù–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π –∏–ª–∏ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω",
    "success": false
}
            </div>
        </div>

        <div class="card">
            <h2>üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞</h2>

            <h3>–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏</h3>
            <ul style="margin: 1rem 0; padding-left: 2rem;">
                <li><a href="/demo">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–µ–º–æ-—Å—Ç—Ä–∞–Ω–∏—Ü–∞</a></li>
                <li><a href="/admin">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a></li>
                <li><a href="/health">–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞</a></li>
                <li><a href="/client.js">–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞</a></li>
            </ul>

            <h3>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
            <p>–°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—à–∏–±–∫–∏. –õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Render.</p>

            <h3>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</h3>
            <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç <code>/health</code> –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.</p>
        </div>
    </main>

    <footer style="background: var(--card); padding: 2rem 0; margin-top: 4rem; border-top: 1px solid var(--border);">
        <div class="container" style="text-align: center; color: var(--text-light);">
            <p>Beresta ID Service &copy; 2024. –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–µ—Ä–≤–∏—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.</p>
        </div>
    </footer>
</body>
</html>    